(function(){"use strict";var t={740:function(t,e,i){var n=i(5471),o=i(8505),s=i(6521),r=i(5742),c=i(1526),a=i(6278),l=i(4155),u=i(9456),f=i(2987),d=i(1075),p=i(380),h=i(4226),y=i(8412),m=i(7410),S=i(9940),g=function(){var t=this,e=t._self._c;return e(o.A,{staticClass:"app"},[e(y.A,{attrs:{"no-gutters":""}},[e(h.A,{staticStyle:{"font-weight":"500",height:"100%"},attrs:{color:"indigo accent-2",app:"",permanent:"",right:""}},[e(f.A,[e(d.A,[e(p.UZ,{staticClass:"white--text",staticStyle:{"font-weight":"400","font-size":"1.25rem"}},[t._v(" الأقسام ")])],1),t._l(t.sections,(function(i){return e(d.A,{key:i.id,staticClass:"indigo accent-2",on:{click:function(e){return t.handleSectionClick(i)}}},[e(p.pr,[e(p.UZ,{staticClass:"white--text d-flex align-center",staticStyle:{"font-weight":"500","font-size":"1.25rem"}},[t._v(" "+t._s(i.name)+" "),e(u.A,{staticClass:"white--text ml-2",attrs:{small:""},on:{click:function(e){return e.stopPropagation(),t.showSectionInfo(i)}}},[t._v(" mdi-information ")])],1)],1)],1)}))],2)],1),e(c.A,{staticClass:"main-content",attrs:{cols:"9"}},[e(a.A,[e(y.A,[e(c.A,{attrs:{cols:"auto"}},[e(s.A,{staticClass:"white--text add",staticStyle:{"font-weight":"300","font-size":"1rem"},attrs:{color:"green darken-3",size:"large"},on:{click:function(e){return e.stopPropagation(),t.showadd.apply(null,arguments)}}},[t._v(" إضافة قسم ")])],1),e(y.A,{attrs:{justify:"end"}},[e(c.A,{attrs:{cols:"auto"}},[e(a.A,[e(S.A,{staticStyle:{width:"300px",height:"30px"},attrs:{label:"بحث بالاسم",outlined:"","prepend-inner-icon":"mdi-magnify",dense:""},on:{input:function(e){return t.updateSearchQuery(t.searchInput)}},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1)],1)],1)],1)],1),e("div",{staticClass:"employee-section-container"},[e("employee-section")],1)],1)],1),e(l.A,{staticStyle:{"background-color":"#fff"},attrs:{persistent:"","max-width":"600px"},model:{value:t.dialogVisiblee,callback:function(e){t.dialogVisiblee=e},expression:"dialogVisiblee"}},[e(r.ri,{staticClass:"headline",staticStyle:{width:"100%","background-color":"#fff",flex:"1",direction:"rtl"}},[e("h2",{staticClass:"mb-4 text-right",staticStyle:{"font-size":"1.25rem"}},[t._v("اضافة قسم")]),e(a.A,{staticClass:"px-0",attrs:{fluid:""}},[e(y.A,[e(c.A,{attrs:{cols:"12"}},[e(S.A,{attrs:{label:"اسم القسم"}})],1)],1),e(y.A,[e(c.A,{attrs:{cols:"12"}},[e(S.A,{attrs:{label:"القسم الأب"}})],1)],1)],1)],1),e(r.SL,{staticStyle:{"background-color":"#fff"}},[e(m.A),e(s.A,{staticClass:"white--text",staticStyle:{"font-weight":"300","font-size":"1rem",direction:"rtl"},attrs:{color:"indigo darken-4"},on:{click:function(e){t.dialogVisiblee=!1}}},[t._v(" إغلاق ")]),e(s.A,{staticClass:"white--text",staticStyle:{"font-weight":"300","font-size":"1rem",direction:"rtl"},attrs:{color:"green darken-3"},on:{click:function(e){t.dialogVisiblee=!1}}},[t._v(" حفظ ")])],1)],1)],1)},v=[],b=i(2829),A=i(4848),E=i(7043),w=i(1735),x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"employee-section"},[e("h2",{staticClass:"mt-4 mb-4"},[t._v(t._s(t.selectedSection?.name))]),e(A.A,{staticClass:"elevation-1 text-right",staticStyle:{width:"100%",flex:"1",direction:"rtl"},attrs:{headers:t.headers,items:t.filteredEmployees,dense:""},scopedSlots:t._u([{key:"top",fn:function(){return[e(E.A,{attrs:{flat:"",color:"indigo accent-2",dark:""}},[e(w.sw,{staticClass:"white--text text-right",staticStyle:{flex:"1"}},[t._v(" الموظفون ")])],1)]},proxy:!0}])})],1)},_=[],C={computed:{...(0,b.aH)(["selectedSection"]),...(0,b.L8)(["filteredEmployees"])},data(){return{headers:[{text:"الاسم الكامل",value:"arabicFullName"},{text:"التخصص",value:"position"},{text:"الكود",value:"code"}]}}},k=C,T=i(1656),O=(0,T.A)(k,x,_,!1,null,null,null),I=O.exports,j={components:{EmployeeSection:I},data(){return{dialogVisible:!1,dialogVisiblee:!1,dialogData:null,searchInput:""}},computed:{...(0,b.aH)(["sections","selectedSection","searchQuery"])},methods:{...(0,b.i0)(["fetchSections","selectSection","fetchSectionEmployees","updateSearchQuery"]),handleSectionClick(t){this.selectSection(t),this.fetchSectionEmployees(t.id)},showSectionInfo(t){this.dialogData=t,this.dialogVisible=!0},showadd(){this.dialogVisiblee=!0}},created(){this.fetchSections()}},Q=j,L=(0,T.A)(Q,g,v,!1,null,"eff8662a",null),V=L.exports,P=(i(8992),i(4520),i(9605));const z=P.A.create({baseURL:"https://beehive-mirror-api.beetronix.com",headers:{"Content-Type":"application/json"}});var N={getSections(){return z.get("/api/sections")},getDescendantSections(){return z.get("/api/sections/descendant")},getSectionEmployees(t){return z.get("/api/employee/briefs",{params:{sectionId:t}})}};n.Ay.use(b.Ay);var D=new b.Ay.Store({state:{sections:[],selectedSection:null,employees:[],searchQuery:""},mutations:{SET_SECTIONS(t,e){t.sections=e},SET_SELECTED_SECTION(t,e){t.selectedSection=e},SET_EMPLOYEES(t,e){t.employees=e},SET_SEARCH_QUERY(t,e){t.searchQuery=e}},actions:{async fetchSections({commit:t}){try{const e=await N.getSections("/sections");t("SET_SECTIONS",e.data)}catch(e){console.error("Error fetching sections:",e)}},selectSection({commit:t},e){t("SET_SELECTED_SECTION",e)},async fetchSectionEmployees({commit:t,state:e}){try{if(!e.selectedSection)return void console.error("No section selected.");const i=await N.getSectionEmployees(e.selectedSection.id),n=i.data;t("SET_EMPLOYEES",n)}catch(i){console.error("Error fetching employees:",i)}},updateSearchQuery({commit:t},e){t("SET_SEARCH_QUERY",e)}},getters:{filteredEmployees:t=>t.searchQuery?t.employees.filter((e=>e.arabicFullName.toLowerCase().includes(t.searchQuery.trim().toLowerCase()))):t.employees}}),M=i(5453);n.Ay.use(M.A);var R=new M.A({});n.Ay.config.productionTip=!1,new n.Ay({vuetify:R,store:D,render:t=>t(V)}).$mount("#app")}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,s){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],s=t[u][2];for(var c=!0,a=0;a<n.length;a++)(!1&s||r>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[a])}))?n.splice(a--,1):(c=!1,s<r&&(r=s));if(c){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,o,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,r=n[0],c=n[1],a=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(o in c)i.o(c,o)&&(i.m[o]=c[o]);if(a)var u=a(i)}for(e&&e(n);l<r.length;l++)s=r[l],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(u)},n=self["webpackChunkemployees"]=self["webpackChunkemployees"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],(function(){return i(740)}));n=i.O(n)})();
//# sourceMappingURL=app.c9f3f565.js.map